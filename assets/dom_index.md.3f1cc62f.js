import{_ as s,o as a,c as n,Q as e}from"./chunks/framework.88002d8f.js";const u=JSON.parse('{"title":"DOM","description":"","frontmatter":{},"headers":[],"relativePath":"dom/index.md","filePath":"dom/index.md"}'),l={name:"dom/index.md"},p=e(`<h1 id="dom" tabindex="-1">DOM <a class="header-anchor" href="#dom" aria-label="Permalink to &quot;DOM&quot;">​</a></h1><h2 id="一、dom-初探、js对象、xml" tabindex="-1">一、DOM 初探、JS对象、XML <a class="header-anchor" href="#一、dom-初探、js对象、xml" aria-label="Permalink to &quot;一、DOM 初探、JS对象、XML&quot;">​</a></h2><p>DOM Document Object Model 文档对象模型</p><p>DOM本身就是对象，又叫宿主对象。 即JavaScrip要想在浏览器中起到DOM作用的话， 需要浏览器提供一系列与DOM相关的方法，不是ECMAScript提供的，是浏览器本身提供的。</p><h3 id="javascript-对象类型" tabindex="-1">JavaScript 对象类型 <a class="header-anchor" href="#javascript-对象类型" aria-label="Permalink to &quot;JavaScript 对象类型&quot;">​</a></h3><p>JavaScript大概分为3种对象。</p><h4 id="本地对象-native-object" tabindex="-1">本地对象 Native Object <a class="header-anchor" href="#本地对象-native-object" aria-label="Permalink to &quot;本地对象 Native Object&quot;">​</a></h4><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">Object Function Array String Number Boolean </span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">Error EvalError SyntaxError RangeError ReferenceError TypeError URIError</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">Date RegExp</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">Object Function Array String Number Boolean </span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">Error EvalError SyntaxError RangeError ReferenceError TypeError URIError</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">Date RegExp</span></span></code></pre></div><h4 id="内置对象-built-in-object" tabindex="-1">内置对象 Built-in Object <a class="header-anchor" href="#内置对象-built-in-object" aria-label="Permalink to &quot;内置对象 Built-in Object&quot;">​</a></h4><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">Global、Math</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">Global、Math</span></span></code></pre></div><p>global对象在ECMA是不存在的，是虚拟的，只是统称为全局，全局下的方法都属于global。</p><p>例如isNaN()、parseInt()、Number()、decodeURL()、encodeURL都是global的方法。</p><p>Infinty NaN undefined 是全局对象下的属性。</p><p>本地对象和内置对象都是ES的内部对象。都是ECMAScript提供的。</p><h4 id="宿主对象-host-object" tabindex="-1">宿主对象 Host Object <a class="header-anchor" href="#宿主对象-host-object" aria-label="Permalink to &quot;宿主对象 Host Object&quot;">​</a></h4><p>执行JS脚本的环境提供的对象是宿主对象，又称浏览器对象。</p><p>宿主对象提供的方法可能不同，即便是相同，可能实现的方式也不一样。</p><p>浏览器与浏览器之间执行JS脚本的时候，在用到宿主对象的方法时，有可能造成兼容性问题。</p><p>浏览器对象有window（BOM）和document（DOM）。</p><p>DOM实际是被BOM包含的，DOM是BOM其中一部分。DOM是有w3c规范的，BOM没有标准。 浏览器与浏览器之间运行JS，和实现某些方法的方式是不同的，所以说存在不同的BOM的方法，所以没办法给出标准。</p><p>document是存放在window下的。宿主对象其实就是浏览器对象，JS脚本是放在浏览器上运行的。</p><h3 id="dom-1" tabindex="-1">DOM <a class="header-anchor" href="#dom-1" aria-label="Permalink to &quot;DOM&quot;">​</a></h3><p>DOM：通过浏览器提供的一套方法表示或者操作HTML和XML。</p><p>DOM本身是不可以操作CSS，只可以操作HTML和XML。</p><h3 id="xml" tabindex="-1">XML <a class="header-anchor" href="#xml" aria-label="Permalink to &quot;XML&quot;">​</a></h3><p>XML -&gt; XHTML -&gt; HTML</p><p>HTML是参照XHTML制定的，XML为HTML奠定了一个最基本的规范。</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#FDAEB7;font-style:italic;">person</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#FDAEB7;font-style:italic;">name</span><span style="color:#E1E4E8;">&gt;张三&lt;/</span><span style="color:#FDAEB7;font-style:italic;">name</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#FDAEB7;font-style:italic;">sex</span><span style="color:#E1E4E8;">&gt;男&lt;/</span><span style="color:#FDAEB7;font-style:italic;">sex</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#FDAEB7;font-style:italic;">age</span><span style="color:#E1E4E8;">&gt;18&lt;/</span><span style="color:#FDAEB7;font-style:italic;">age</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#FDAEB7;font-style:italic;">person</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#B31D28;font-style:italic;">person</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#B31D28;font-style:italic;">name</span><span style="color:#24292E;">&gt;张三&lt;/</span><span style="color:#B31D28;font-style:italic;">name</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#B31D28;font-style:italic;">sex</span><span style="color:#24292E;">&gt;男&lt;/</span><span style="color:#B31D28;font-style:italic;">sex</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#B31D28;font-style:italic;">age</span><span style="color:#24292E;">&gt;18&lt;/</span><span style="color:#B31D28;font-style:italic;">age</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#B31D28;font-style:italic;">person</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">name是window上一个内置属性，属于全局数组window，全局定义变量应该避免。</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">name是window上一个内置属性，属于全局数组window，全局定义变量应该避免。</span></span></code></pre></div><p><strong>标签与元素</strong></p><p><code>&lt;person&gt;&lt;/person&gt;</code> 是一种标签，<code>&lt;perosn&gt;</code> 标签及标签内部的所有文本加到一起叫做一个元素。</p><p><strong>选择元素</strong></p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> box </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">getElementById</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;box&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> boxes </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">getElementsByTagName</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;div&#39;</span><span style="color:#E1E4E8;">)[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">];</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">var</span><span style="color:#24292E;"> box </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> document.</span><span style="color:#6F42C1;">getElementById</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;box&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#D73A49;">var</span><span style="color:#24292E;"> boxes </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> document.</span><span style="color:#6F42C1;">getElementsByTagName</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;div&#39;</span><span style="color:#24292E;">)[</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">];</span></span></code></pre></div><h3 id="相关问题" tabindex="-1">相关问题 <a class="header-anchor" href="#相关问题" aria-label="Permalink to &quot;相关问题&quot;">​</a></h3><h4 id="dom是否可以操作css" tabindex="-1">DOM是否可以操作CSS？ <a class="header-anchor" href="#dom是否可以操作css" aria-label="Permalink to &quot;DOM是否可以操作CSS？&quot;">​</a></h4><p>不能操作CSS，操作的不是CSS，是操作的元素上的属性，是内联样式。（dom.styles.backgroundColor）。</p><h4 id="jquery能不能操作css" tabindex="-1">Jquery能不能操作CSS？ <a class="header-anchor" href="#jquery能不能操作css" aria-label="Permalink to &quot;Jquery能不能操作CSS？&quot;">​</a></h4><p>jquery也是操作元素上的属性，是添加行内样式，不是操作样式表。 内联样式比内部样式优先级高</p><h2 id="二、document对象、获取元素、节点、遍历树" tabindex="-1">二、document对象、获取元素、节点、遍历树 <a class="header-anchor" href="#二、document对象、获取元素、节点、遍历树" aria-label="Permalink to &quot;二、document对象、获取元素、节点、遍历树&quot;">​</a></h2><p>xml在服务器之间传输过程中，格式要求比较严格。</p><p>遍写html对于前端来说，就是搭建DOM树。</p><p>级联样式有时候是没必要写的，能大概区分的，可以不写，例如某些外层包裹的盒子。 级联样式过于长，对于性能是不佳的。</p><h3 id="获取元素" tabindex="-1">获取元素 <a class="header-anchor" href="#获取元素" aria-label="Permalink to &quot;获取元素&quot;">​</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">document.</span><span style="color:#B392F0;">getElementById</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">document.</span><span style="color:#B392F0;">getElementsByClassName</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">document.</span><span style="color:#B392F0;">getElementsByTangName</span><span style="color:#E1E4E8;">();</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">document.</span><span style="color:#6F42C1;">getElementById</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">document.</span><span style="color:#6F42C1;">getElementsByClassName</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">document.</span><span style="color:#6F42C1;">getElementsByTangName</span><span style="color:#24292E;">();</span></span></code></pre></div><p>document代表整个html文档。html是根标签，JS认为整个JS是一个文档。</p><p>document其实是一个对象，是一个Object。</p><h3 id="dom-原型链" tabindex="-1">DOM 原型链 <a class="header-anchor" href="#dom-原型链" aria-label="Permalink to &quot;DOM 原型链&quot;">​</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">document.</span><span style="color:#79B8FF;">__proto__</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> HTMLDocument</span></span>
<span class="line"><span style="color:#E1E4E8;">HTMLDocument.</span><span style="color:#79B8FF;">__proto__</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> Document </span><span style="color:#6A737D;">// Document.prototype 存在getElementById等方法</span></span>
<span class="line"><span style="color:#E1E4E8;">Doucment.</span><span style="color:#79B8FF;">__proto__</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> Node </span><span style="color:#6A737D;">// Node.prototype 存在nodeType nodeName等属性</span></span>
<span class="line"><span style="color:#E1E4E8;">Node.</span><span style="color:#79B8FF;">__proto__</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> EventTarget </span><span style="color:#6A737D;">// EventTarget.prototype 存在addEventListener removeEventListener</span></span>
<span class="line"><span style="color:#E1E4E8;">EventTarget.</span><span style="color:#79B8FF;">__proto__</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> Object </span><span style="color:#6A737D;">// Object.prototype 存在get方法和set方法</span></span>
<span class="line"><span style="color:#79B8FF;">Object</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">prototype</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;">// 原型顶端</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">document.</span><span style="color:#005CC5;">__proto__</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> HTMLDocument</span></span>
<span class="line"><span style="color:#24292E;">HTMLDocument.</span><span style="color:#005CC5;">__proto__</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> Document </span><span style="color:#6A737D;">// Document.prototype 存在getElementById等方法</span></span>
<span class="line"><span style="color:#24292E;">Doucment.</span><span style="color:#005CC5;">__proto__</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> Node </span><span style="color:#6A737D;">// Node.prototype 存在nodeType nodeName等属性</span></span>
<span class="line"><span style="color:#24292E;">Node.</span><span style="color:#005CC5;">__proto__</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> EventTarget </span><span style="color:#6A737D;">// EventTarget.prototype 存在addEventListener removeEventListener</span></span>
<span class="line"><span style="color:#24292E;">EventTarget.</span><span style="color:#005CC5;">__proto__</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> Object </span><span style="color:#6A737D;">// Object.prototype 存在get方法和set方法</span></span>
<span class="line"><span style="color:#005CC5;">Object</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">prototype</span><span style="color:#24292E;"> </span><span style="color:#6A737D;">// 原型顶端</span></span></code></pre></div><h3 id="document-方法" tabindex="-1">document 方法 <a class="header-anchor" href="#document-方法" aria-label="Permalink to &quot;document 方法&quot;">​</a></h3><h4 id="getelementbyid" tabindex="-1">getElementById <a class="header-anchor" href="#getelementbyid" aria-label="Permalink to &quot;getElementById&quot;">​</a></h4><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">document.</span><span style="color:#B392F0;">getElementById</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;box&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">document.</span><span style="color:#B392F0;">getElementById</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Box&#39;</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">document.</span><span style="color:#6F42C1;">getElementById</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;box&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">document.</span><span style="color:#6F42C1;">getElementById</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Box&#39;</span><span style="color:#24292E;">);</span></span></code></pre></div><p>IE6也可以使用该方法。支持IE6以上。 IE8以下的浏览器是不分大小写的，获取DOM元素。 IE8以下可以通过name属性获取元素。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">box</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">name</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;box&quot;</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">box</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">box</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">name</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;box&quot;</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">box</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><p>id在项目中是不可以随便用的（id=&quot;box&quot;）。大公司中，ID一般是不作为书写样式去定义的。 id一般称之为钩子。一般用来获取元素，模块化开发中，一般都是以id作为标识，给后端对接使用，可以注入数据。</p><h4 id="getelementsbytagname" tabindex="-1">getElementsByTagName() <a class="header-anchor" href="#getelementsbytagname" aria-label="Permalink to &quot;getElementsByTagName()&quot;">​</a></h4><p>返回类数组。</p><p>类数组其实是对象，用对象来模拟数组。 IE4也支持该方法。基本不存在兼容性问题。</p><h4 id="getelementsbyclassname" tabindex="-1">getElementsByClassName() <a class="header-anchor" href="#getelementsbyclassname" aria-label="Permalink to &quot;getElementsByClassName()&quot;">​</a></h4><p>返回类数组。</p><p>IE8及以下的浏览器不支持该方法，存在兼容性问题。</p><h4 id="getelementsbyname" tabindex="-1">getElementsByName() <a class="header-anchor" href="#getelementsbyname" aria-label="Permalink to &quot;getElementsByName()&quot;">​</a></h4><p>基本不使用该方法，IE8以下都支持。原则只能用于有name属性的值。例如input、image、iframe。 实际上也能用name属性选择div元素。</p><h4 id="queryselector-、queryselectorall" tabindex="-1">querySelector()、querySelectorAll() <a class="header-anchor" href="#queryselector-、queryselectorall" aria-label="Permalink to &quot;querySelector()、querySelectorAll()&quot;">​</a></h4><p>HTML新引入的WEB API，正式引入HTML标准。 IE7支持该方法，IE7以下不兼容。传入参数和css选择器一致。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">querySelector</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;div&#39;</span><span style="color:#E1E4E8;">)、</span><span style="color:#B392F0;">querySelector</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;.text&#39;</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">// 类和标签有重复的情况，只选择第一个元素。</span></span>
<span class="line"><span style="color:#B392F0;">querySelector</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;div &gt; p&#39;</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">// 选择直系子元素</span></span>
<span class="line"><span style="color:#B392F0;">querySelector</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;#box&#39;</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">// 选择ID属性的元素</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">querySelector</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;div&#39;</span><span style="color:#24292E;">)、</span><span style="color:#6F42C1;">querySelector</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;.text&#39;</span><span style="color:#24292E;">); </span><span style="color:#6A737D;">// 类和标签有重复的情况，只选择第一个元素。</span></span>
<span class="line"><span style="color:#6F42C1;">querySelector</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;div &gt; p&#39;</span><span style="color:#24292E;">); </span><span style="color:#6A737D;">// 选择直系子元素</span></span>
<span class="line"><span style="color:#6F42C1;">querySelector</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;#box&#39;</span><span style="color:#24292E;">); </span><span style="color:#6A737D;">// 选择ID属性的元素</span></span></code></pre></div><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">querySelectorAll</span><span style="color:#E1E4E8;">() </span><span style="color:#6A737D;">// 可以选择多个元素。类数组。</span></span>
<span class="line"><span style="color:#6A737D;">// 性能不好，经过测试，比其他get*的方法查询性能差。</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">querySelectorAll</span><span style="color:#24292E;">() </span><span style="color:#6A737D;">// 可以选择多个元素。类数组。</span></span>
<span class="line"><span style="color:#6A737D;">// 性能不好，经过测试，比其他get*的方法查询性能差。</span></span></code></pre></div><p>querySeletor，使用remove方法，不会实时，如果单纯选择元素可以使用，如果需要实时变化，不好用。</p><h3 id="节点与元素节点树" tabindex="-1">节点与元素节点树 <a class="header-anchor" href="#节点与元素节点树" aria-label="Permalink to &quot;节点与元素节点树&quot;">​</a></h3><p>节点不是元素，不等于元素。节点包含元素，元素是节点的一部分（元素节点）。</p><p>元素节点 === DOM元素</p><h4 id="元素节点树" tabindex="-1">元素节点树 <a class="header-anchor" href="#元素节点树" aria-label="Permalink to &quot;元素节点树&quot;">​</a></h4><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">ul</span><span style="color:#E1E4E8;">&gt;                                                ul</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">li</span><span style="color:#E1E4E8;">&gt;                                              li</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">h2</span><span style="color:#E1E4E8;">&gt;我是标题标签&lt;/</span><span style="color:#85E89D;">h2</span><span style="color:#E1E4E8;">&gt;                   h2        a         p</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">a</span><span style="color:#E1E4E8;">&gt;我是超链接标签&lt;/</span><span style="color:#85E89D;">a</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">p</span><span style="color:#E1E4E8;">&gt;我是段落标签&lt;/</span><span style="color:#85E89D;">p</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;/</span><span style="color:#85E89D;">li</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">ul</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">ul</span><span style="color:#24292E;">&gt;                                                ul</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">li</span><span style="color:#24292E;">&gt;                                              li</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">h2</span><span style="color:#24292E;">&gt;我是标题标签&lt;/</span><span style="color:#22863A;">h2</span><span style="color:#24292E;">&gt;                   h2        a         p</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">a</span><span style="color:#24292E;">&gt;我是超链接标签&lt;/</span><span style="color:#22863A;">a</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">p</span><span style="color:#24292E;">&gt;我是段落标签&lt;/</span><span style="color:#22863A;">p</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;/</span><span style="color:#22863A;">li</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">ul</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><h4 id="遍历节点树" tabindex="-1">遍历节点树 <a class="header-anchor" href="#遍历节点树" aria-label="Permalink to &quot;遍历节点树&quot;">​</a></h4><h5 id="parentnode" tabindex="-1">parentNode <a class="header-anchor" href="#parentnode" aria-label="Permalink to &quot;parentNode&quot;">​</a></h5><p>parentNode 获取父节点，elem.parentNode。 常用。</p><p>html的父节点是document。 document的父节点是null。</p><h5 id="childnodes" tabindex="-1">childNodes <a class="header-anchor" href="#childnodes" aria-label="Permalink to &quot;childNodes&quot;">​</a></h5><p>childNodes 获取子节点集合，不仅仅是元素节点。 常用。</p><h5 id="firstchild、lastchild" tabindex="-1">firstChild、lastChild <a class="header-anchor" href="#firstchild、lastchild" aria-label="Permalink to &quot;firstChild、lastChild&quot;">​</a></h5><p>获取元素的第一个子节点和最后一个子节点。</p><h5 id="previoussibling、nextsibling" tabindex="-1">previousSibling、nextSibling <a class="header-anchor" href="#previoussibling、nextsibling" aria-label="Permalink to &quot;previousSibling、nextSibling&quot;">​</a></h5><p>获取元素的上一个兄弟节点和下一个兄弟节点。</p><h5 id="parentelement" tabindex="-1">parentElement <a class="header-anchor" href="#parentelement" aria-label="Permalink to &quot;parentElement&quot;">​</a></h5><p>获取父级元素节点 IE9及以下不支持。html的父元素节点是null。</p><h5 id="children" tabindex="-1">children <a class="header-anchor" href="#children" aria-label="Permalink to &quot;children&quot;">​</a></h5><p>获取子元素节点集合，只包含元素节点。</p><p>IE7及以下不支持。</p><h5 id="childelementcount" tabindex="-1">childElementCount <a class="header-anchor" href="#childelementcount" aria-label="Permalink to &quot;childElementCount&quot;">​</a></h5><p>获取子元素节点集合的长度。IE9及以下不支持。</p><p>childElementCount = children.length</p><h5 id="firstelementchild、lastelementchild" tabindex="-1">firstElementChild、lastElementChild <a class="header-anchor" href="#firstelementchild、lastelementchild" aria-label="Permalink to &quot;firstElementChild、lastElementChild&quot;">​</a></h5><p>获取元素的第一个元素节点和最后一个元素节点。</p><p>IE9及以下不支持。</p><h5 id="previouselementsibing、nextelementsibing" tabindex="-1">previousElementSibing、nextElementSibing <a class="header-anchor" href="#previouselementsibing、nextelementsibing" aria-label="Permalink to &quot;previousElementSibing、nextElementSibing&quot;">​</a></h5><p>获取元素的上一个兄弟元素和下一个兄弟元素。IE9及以下不支持。</p><h4 id="节点类型" tabindex="-1">节点类型 <a class="header-anchor" href="#节点类型" aria-label="Permalink to &quot;节点类型&quot;">​</a></h4><ul><li>元素节点 1</li><li>属性节点 2</li><li>文本节点 text 3</li><li>注释节点 comment 8</li><li>document节点 9</li><li>DocumentFragment节点 11</li></ul><p>节点对应自己的节点号</p><h2 id="三、节点属性、方法、封装方法、dom结构" tabindex="-1">三、节点属性、方法、封装方法、DOM结构 <a class="header-anchor" href="#三、节点属性、方法、封装方法、dom结构" aria-label="Permalink to &quot;三、节点属性、方法、封装方法、DOM结构&quot;">​</a></h2><h3 id="节点编号" tabindex="-1">节点编号 <a class="header-anchor" href="#节点编号" aria-label="Permalink to &quot;节点编号&quot;">​</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">元素节点 </span><span style="color:#6A737D;">// 1</span></span>
<span class="line"><span style="color:#E1E4E8;">属性节点 </span><span style="color:#6A737D;">// 2 </span></span>
<span class="line"><span style="color:#E1E4E8;">文本节点 </span><span style="color:#6A737D;">// 3 #text</span></span>
<span class="line"><span style="color:#E1E4E8;">注释节点 </span><span style="color:#6A737D;">// 8 #comment</span></span>
<span class="line"><span style="color:#E1E4E8;">document </span><span style="color:#6A737D;">// 9 #document</span></span>
<span class="line"><span style="color:#E1E4E8;">DocumentFragment </span><span style="color:#6A737D;">// 11</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">元素节点 </span><span style="color:#6A737D;">// 1</span></span>
<span class="line"><span style="color:#24292E;">属性节点 </span><span style="color:#6A737D;">// 2 </span></span>
<span class="line"><span style="color:#24292E;">文本节点 </span><span style="color:#6A737D;">// 3 #text</span></span>
<span class="line"><span style="color:#24292E;">注释节点 </span><span style="color:#6A737D;">// 8 #comment</span></span>
<span class="line"><span style="color:#24292E;">document </span><span style="color:#6A737D;">// 9 #document</span></span>
<span class="line"><span style="color:#24292E;">DocumentFragment </span><span style="color:#6A737D;">// 11</span></span></code></pre></div><h3 id="节点属性" tabindex="-1">节点属性 <a class="header-anchor" href="#节点属性" aria-label="Permalink to &quot;节点属性&quot;">​</a></h3><h4 id="nodename-节点名称" tabindex="-1">nodeName 节点名称 <a class="header-anchor" href="#nodename-节点名称" aria-label="Permalink to &quot;nodeName 节点名称&quot;">​</a></h4><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">document.nodeName  </span><span style="color:#6A737D;">// #document</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">document.nodeName  </span><span style="color:#6A737D;">// #document</span></span></code></pre></div><p>节点的nodeName属性是只读的，不可更改</p><h4 id="nodevalue-节点值" tabindex="-1">nodeValue 节点值 <a class="header-anchor" href="#nodevalue-节点值" aria-label="Permalink to &quot;nodeValue 节点值&quot;">​</a></h4><p>文本节点、注释节点、属性节点有属性值。 元素节点没有属性值，获取时为null。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">getAttributeNode</span><span style="color:#E1E4E8;">() </span><span style="color:#6A737D;">// 获取属性节点</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">getAttributeNode</span><span style="color:#24292E;">() </span><span style="color:#6A737D;">// 获取属性节点</span></span></code></pre></div><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">getAttributeNode</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;id&#39;</span><span style="color:#E1E4E8;">).nodeValue </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getAttributeNode</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;id&#39;</span><span style="color:#E1E4E8;">).value;</span></span>
<span class="line"><span style="color:#6A737D;">// 属性节点可以使用nodeValue或者value获取节点值</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">getAttributeNode</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;id&#39;</span><span style="color:#24292E;">).nodeValue </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getAttributeNode</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;id&#39;</span><span style="color:#24292E;">).value;</span></span>
<span class="line"><span style="color:#6A737D;">// 属性节点可以使用nodeValue或者value获取节点值</span></span></code></pre></div><p>节点的nodeValue是可读写的（属性、注释、文本可用）。</p><h4 id="nodetype-节点类型" tabindex="-1">nodeType 节点类型 <a class="header-anchor" href="#nodetype-节点类型" aria-label="Permalink to &quot;nodeType 节点类型&quot;">​</a></h4><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">document.nodeType </span><span style="color:#6A737D;">// 9</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">document.nodeType </span><span style="color:#6A737D;">// 9</span></span></code></pre></div><p>nodeType是只读的，不可更改。</p><h4 id="attributes-元素的属性节点集合" tabindex="-1">attributes 元素的属性节点集合 <a class="header-anchor" href="#attributes-元素的属性节点集合" aria-label="Permalink to &quot;attributes 元素的属性节点集合&quot;">​</a></h4><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">attributes[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">] </span><span style="color:#6A737D;">// 获取属性集合第一个 使用较少</span></span>
<span class="line"><span style="color:#E1E4E8;">attributes[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">].nodeValue </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> attributes[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">].value </span><span style="color:#6A737D;">// 获取属性值</span></span>
<span class="line"><span style="color:#B392F0;">getAttributeNode</span><span style="color:#E1E4E8;">() </span><span style="color:#6A737D;">// 获取属性节点 使用较少</span></span>
<span class="line"><span style="color:#B392F0;">getAttribute</span><span style="color:#E1E4E8;">() </span><span style="color:#6A737D;">// 获取节点属性值</span></span>
<span class="line"><span style="color:#B392F0;">setAttribute</span><span style="color:#E1E4E8;">() </span><span style="color:#6A737D;">// 设置节点属性值</span></span>
<span class="line"><span style="color:#B392F0;">hasChildNodes</span><span style="color:#E1E4E8;">() </span><span style="color:#6A737D;">// 判断节点是否有子节点 返回值为true或false。</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">attributes[</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">] </span><span style="color:#6A737D;">// 获取属性集合第一个 使用较少</span></span>
<span class="line"><span style="color:#24292E;">attributes[</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">].nodeValue </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> attributes[</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">].value </span><span style="color:#6A737D;">// 获取属性值</span></span>
<span class="line"><span style="color:#6F42C1;">getAttributeNode</span><span style="color:#24292E;">() </span><span style="color:#6A737D;">// 获取属性节点 使用较少</span></span>
<span class="line"><span style="color:#6F42C1;">getAttribute</span><span style="color:#24292E;">() </span><span style="color:#6A737D;">// 获取节点属性值</span></span>
<span class="line"><span style="color:#6F42C1;">setAttribute</span><span style="color:#24292E;">() </span><span style="color:#6A737D;">// 设置节点属性值</span></span>
<span class="line"><span style="color:#6F42C1;">hasChildNodes</span><span style="color:#24292E;">() </span><span style="color:#6A737D;">// 判断节点是否有子节点 返回值为true或false。</span></span></code></pre></div><p>注意，div标签换行也算文本节点，判断为true。</p><p>IE7以下不支持children方法，可用作兼容性处理。</p><h3 id="类数组" tabindex="-1">类数组 <a class="header-anchor" href="#类数组" aria-label="Permalink to &quot;类数组&quot;">​</a></h3><p>数组是一种特殊的对象。类数组一定有length属性。类数组是没有push方法的。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> obj </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#9ECBFF;">&#39;0&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">&#39;1&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">&#39;2&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">&#39;length&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">&#39;push&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">Array</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">prototype</span><span style="color:#E1E4E8;">.push,</span></span>
<span class="line"><span style="color:#9ECBFF;">&#39;splice&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">Array</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">prototype</span><span style="color:#E1E4E8;">.splice</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">var</span><span style="color:#24292E;"> obj </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#032F62;">&#39;0&#39;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#032F62;">&#39;1&#39;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#032F62;">&#39;2&#39;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">3</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#032F62;">&#39;length&#39;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">3</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#032F62;">&#39;push&#39;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">Array</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">prototype</span><span style="color:#24292E;">.push,</span></span>
<span class="line"><span style="color:#032F62;">&#39;splice&#39;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">Array</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">prototype</span><span style="color:#24292E;">.splice</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>类数组可以继承数组的push方法使用，length是自动增加的。 可以使用继承数组splice方法，使类数组像真正的数组。</p><p><strong>区分自定义类数组和真正数组？</strong></p><p>打印信息中，自定义类数组的length属性是深紫色的，浅紫色的属性系统内置的。</p><h3 id="dom-结构树" tabindex="-1">DOM 结构树 <a class="header-anchor" href="#dom-结构树" aria-label="Permalink to &quot;DOM 结构树&quot;">​</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">                            Node</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">文档方向          文档字符方向            元素方向        属性方向</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">Document         Character              Element         Attributes</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;"> HTMLDocument     Text   Comment        </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;"> HTMLElement   </span></span>
<span class="line"><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;"> XMLDocument                            </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;"> XMLElement  之前浏览器存在，现在没有该对象</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">                HTMLHeadElement HTMLBodyElement HTMLTitleElmment HTMLParagraphElement</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">                    HTMLInputElement  HTMLTableElement  HTMLOthersElement</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">                            Node</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">文档方向          文档字符方向            元素方向        属性方向</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">Document         Character              Element         Attributes</span></span>
<span class="line"></span>
<span class="line"><span style="color:#005CC5;">1</span><span style="color:#24292E;"> HTMLDocument     Text   Comment        </span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> HTMLElement   </span></span>
<span class="line"><span style="color:#005CC5;">2</span><span style="color:#24292E;"> XMLDocument                            </span><span style="color:#005CC5;">2</span><span style="color:#24292E;"> XMLElement  之前浏览器存在，现在没有该对象</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">                HTMLHeadElement HTMLBodyElement HTMLTitleElmment HTMLParagraphElement</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">                    HTMLInputElement  HTMLTableElement  HTMLOthersElement</span></span></code></pre></div><p>我们认为的DOM结构树的顶点是Node。 DOM是操作HTML和XML的，DOM是不能够直接操作CSS的，只能通过style来操作行间样式。</p><p>document.get** 都是继承于 Document 的。</p><p>Element.prototype 存在 get*，query* 方法，但是没有getElementById方法。</p><p>可以使用 <strong>Object.prototype.toString.call()</strong> 查看节点类型</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">Object</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">prototype</span><span style="color:#E1E4E8;">.toString.</span><span style="color:#B392F0;">call</span><span style="color:#E1E4E8;">([]); </span><span style="color:#6A737D;">// &quot;[object Array]&quot;</span></span>
<span class="line"><span style="color:#79B8FF;">Object</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">prototype</span><span style="color:#E1E4E8;">.toString.</span><span style="color:#B392F0;">call</span><span style="color:#E1E4E8;">(div); </span><span style="color:#6A737D;">// &quot;[object HTMLDivElement]&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">Object</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">prototype</span><span style="color:#24292E;">.toString.</span><span style="color:#6F42C1;">call</span><span style="color:#24292E;">([]); </span><span style="color:#6A737D;">// &quot;[object Array]&quot;</span></span>
<span class="line"><span style="color:#005CC5;">Object</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">prototype</span><span style="color:#24292E;">.toString.</span><span style="color:#6F42C1;">call</span><span style="color:#24292E;">(div); </span><span style="color:#6A737D;">// &quot;[object HTMLDivElement]&quot;</span></span></code></pre></div><h3 id="dom-操作深入" tabindex="-1">DOM 操作深入 <a class="header-anchor" href="#dom-操作深入" aria-label="Permalink to &quot;DOM 操作深入&quot;">​</a></h3><p>通过方法选择元素后再经过构造函数实例化，最终形成DOM对象。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt; </span><span style="color:#F97583;">-&gt;</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">getElementsByTagName</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;div&#39;</span><span style="color:#E1E4E8;">)[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">] </span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">-&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">HTMLDivElement</span><span style="color:#E1E4E8;"> () {} </span><span style="color:#F97583;">-&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">HTMLDivElement</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> DOM对象</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt; </span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;"> document.</span><span style="color:#6F42C1;">getElementsByTagName</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;div&#39;</span><span style="color:#24292E;">)[</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">] </span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">HTMLDivElement</span><span style="color:#24292E;"> () {} </span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">HTMLDivElement</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> DOM对象</span></span></code></pre></div><p>任何对象都是实例化出来的，有些对象底层帮助我们实例化，自定义对象需要自己实例化。</p><p><strong>getElementById()</strong></p><p>只存在于Document.prototype，Element.prototype以及HTMLElement都没有此方法。</p><p><strong>getElementsByName()</strong></p><p>只存在于Document.prototype，Element.prototype不存在此方法。</p><p><strong>getElementsByClassName()、getElementsByTagName()、querySelector()、querySelectorAll()</strong></p><p>存在于Document.prototype、Element.prototype</p><p>*<strong>通配符</strong></p><p>在CSS中会为所有元素添加样式。 在DOM中会选择全部标签，只能用在getElmentsByTagName()中，一般不会使用。</p><p><strong>如何选择body和head元素？</strong></p><p>HTMLDocument.prototype 存在 body 和 head 属性，可以直接获取对应元素。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">document.body、document.head</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">document.body、document.head</span></span></code></pre></div><p>HTMLDocument 存在 title 属性，可以获取title标签内文本。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">document.title</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">document.title</span></span></code></pre></div><p><strong>如何获取html元素？</strong></p><p>Document.prototype 存在 documentElement 属性，可以直接获取html元素。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">document.documentElement</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">document.documentElement</span></span></code></pre></div><h3 id="原型编程案例" tabindex="-1">原型编程案例 <a class="header-anchor" href="#原型编程案例" aria-label="Permalink to &quot;原型编程案例&quot;">​</a></h3><h4 id="获取子元素集合" tabindex="-1">获取子元素集合 <a class="header-anchor" href="#获取子元素集合" aria-label="Permalink to &quot;获取子元素集合&quot;">​</a></h4><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;"> * </span><span style="color:#F97583;">@description</span><span style="color:#6A737D;"> 获取子元素集合</span></span>
<span class="line"><span style="color:#6A737D;"> * </span><span style="color:#F97583;">@param</span><span style="color:#6A737D;"> </span><span style="color:#B392F0;">{object}</span><span style="color:#6A737D;"> </span><span style="color:#E1E4E8;">node</span><span style="color:#6A737D;"> - 元素节点</span></span>
<span class="line"><span style="color:#6A737D;"> * </span><span style="color:#F97583;">@returns</span><span style="color:#6A737D;"> </span><span style="color:#B392F0;">{object}</span></span>
<span class="line"><span style="color:#6A737D;"> */</span></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">elemChildren</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">node</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> temp </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&#39;length&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&#39;push&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">Array</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">prototype</span><span style="color:#E1E4E8;">.push,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&#39;splice&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">Array</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">prototype</span><span style="color:#E1E4E8;">.splice</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  len </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> node.childNodes.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> i </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">; i </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> len; i</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> childItem </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> node.childNodes[i];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (childItem.nodeType </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  temp.</span><span style="color:#B392F0;">push</span><span style="color:#E1E4E8;">(childItem);</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> temp;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;"> * </span><span style="color:#D73A49;">@description</span><span style="color:#6A737D;"> 获取子元素集合</span></span>
<span class="line"><span style="color:#6A737D;"> * </span><span style="color:#D73A49;">@param</span><span style="color:#6A737D;"> </span><span style="color:#6F42C1;">{object}</span><span style="color:#6A737D;"> </span><span style="color:#24292E;">node</span><span style="color:#6A737D;"> - 元素节点</span></span>
<span class="line"><span style="color:#6A737D;"> * </span><span style="color:#D73A49;">@returns</span><span style="color:#6A737D;"> </span><span style="color:#6F42C1;">{object}</span></span>
<span class="line"><span style="color:#6A737D;"> */</span></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">elemChildren</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">node</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#D73A49;">var</span><span style="color:#24292E;"> temp </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&#39;length&#39;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&#39;push&#39;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">Array</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">prototype</span><span style="color:#24292E;">.push,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&#39;splice&#39;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">Array</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">prototype</span><span style="color:#24292E;">.splice</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  len </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> node.childNodes.</span><span style="color:#005CC5;">length</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">for</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">var</span><span style="color:#24292E;"> i </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">; i </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> len; i</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#D73A49;">var</span><span style="color:#24292E;"> childItem </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> node.childNodes[i];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (childItem.nodeType </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  temp.</span><span style="color:#6F42C1;">push</span><span style="color:#24292E;">(childItem);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">return</span><span style="color:#24292E;"> temp;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="四、节点创建删除、元素属性设置获取、节点属性" tabindex="-1">四、节点创建删除、元素属性设置获取、节点属性 <a class="header-anchor" href="#四、节点创建删除、元素属性设置获取、节点属性" aria-label="Permalink to &quot;四、节点创建删除、元素属性设置获取、节点属性&quot;">​</a></h2><p>动态创建出的元素不在DOM树上，存放于内存中。可以通过document.body.appendChild()添加进DOM树。</p><h3 id="操作元素节点" tabindex="-1">操作元素节点 <a class="header-anchor" href="#操作元素节点" aria-label="Permalink to &quot;操作元素节点&quot;">​</a></h3><h4 id="createelement" tabindex="-1">createElement() <a class="header-anchor" href="#createelement" aria-label="Permalink to &quot;createElement()&quot;">​</a></h4><p>创建元素。此方法只存在于Document.prototype上。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">document.</span><span style="color:#B392F0;">createElement</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;div&#39;</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">document.</span><span style="color:#6F42C1;">createElement</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;div&#39;</span><span style="color:#24292E;">);</span></span></code></pre></div><h4 id="createtextnode" tabindex="-1">createTextNode() <a class="header-anchor" href="#createtextnode" aria-label="Permalink to &quot;createTextNode()&quot;">​</a></h4><p>创建文本节点。此方法只存在于Document.prototype上。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">document.</span><span style="color:#B392F0;">createTextNode</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;123&#39;</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">document.</span><span style="color:#6F42C1;">createTextNode</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;123&#39;</span><span style="color:#24292E;">);</span></span></code></pre></div><h4 id="createcomment" tabindex="-1">createComment() <a class="header-anchor" href="#createcomment" aria-label="Permalink to &quot;createComment()&quot;">​</a></h4><p>创建注释节点。此方法只存在于Document.prototype上。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">document.</span><span style="color:#B392F0;">createComment</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;我是注释&#39;</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">document.</span><span style="color:#6F42C1;">createComment</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;我是注释&#39;</span><span style="color:#24292E;">);</span></span></code></pre></div><h4 id="appendchild-node-element" tabindex="-1">appendChild(node|element) <a class="header-anchor" href="#appendchild-node-element" aria-label="Permalink to &quot;appendChild(node|element)&quot;">​</a></h4><p>添加子元素 。此方法存在于Node.prototype中。</p><p>appendChild()不仅有增加功能，还有剪切功能。可以动态的增加和剪切节点。</p><h4 id="insertbefore" tabindex="-1">insertBefore() <a class="header-anchor" href="#insertbefore" aria-label="Permalink to &quot;insertBefore()&quot;">​</a></h4><p>插入元素。此方法存在于Node.prototype中。</p><p>c.insertBefore(a, b)：在父级c节点下的子节点b之前插入a节点。</p><h4 id="removechild" tabindex="-1">removeChild() <a class="header-anchor" href="#removechild" aria-label="Permalink to &quot;removeChild()&quot;">​</a></h4><p>移除子节点。此方法存在于Node.prototype中。 在父节点下移除子节点。只是剪切掉，并不是删除掉，存在于内存中。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">选择元素  </span><span style="color:#F97583;">-&gt;</span><span style="color:#E1E4E8;"> 构造函数实例化         </span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;">  div节点</span></span>
<span class="line"><span style="color:#E1E4E8;">div         </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">HTMLDivElement</span><span style="color:#E1E4E8;">()      removeChild</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">-&gt;</span><span style="color:#E1E4E8;"> div DOM对象            只是在DOM文档中移除节点</span></span>
<span class="line"><span style="color:#E1E4E8;">        存到内存中                 没有删除内存中的节点</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">选择元素  </span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;"> 构造函数实例化         </span><span style="color:#D73A49;">-</span><span style="color:#24292E;">  div节点</span></span>
<span class="line"><span style="color:#24292E;">div         </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">HTMLDivElement</span><span style="color:#24292E;">()      removeChild</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;"> div DOM对象            只是在DOM文档中移除节点</span></span>
<span class="line"><span style="color:#24292E;">        存到内存中                 没有删除内存中的节点</span></span></code></pre></div><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">document.</span><span style="color:#B392F0;">getElementsByTagName</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;p&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getElementsByTagName</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">element</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#6A737D;">// 1. 从html选择p元素</span></span>
<span class="line"><span style="color:#6A737D;">// 2. 通过实例化HTMLParagraphElement()变成DOM节点、DOM元素</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">document.</span><span style="color:#6F42C1;">getElementsByTagName</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;p&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getElementsByTagName</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">element</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#6A737D;">// 1. 从html选择p元素</span></span>
<span class="line"><span style="color:#6A737D;">// 2. 通过实例化HTMLParagraphElement()变成DOM节点、DOM元素</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h4 id="remove" tabindex="-1">remove() <a class="header-anchor" href="#remove" aria-label="Permalink to &quot;remove()&quot;">​</a></h4><p>删除节点，ES5方法。此方法存在于Element.prototype中。</p><p>删除本节点，在内存中也进行删除。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">div.</span><span style="color:#B392F0;">remove</span><span style="color:#E1E4E8;">();</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">div.</span><span style="color:#6F42C1;">remove</span><span style="color:#24292E;">();</span></span></code></pre></div><h4 id="innerhtml-innertext" tabindex="-1">innerHTML innerText <a class="header-anchor" href="#innerhtml-innertext" aria-label="Permalink to &quot;innerHTML innerText&quot;">​</a></h4><p>innerHTML存在于Element.prototype和HTMLElement.prototype上。 innerText存在于HTMLElement.prototype上。</p><p>innerHTML会取出标签内所有元素的字符串，包括标签（html字符串）。 innerText会取出标签内所有文本，仅限于文本（过滤掉标签，只剩下文本）。</p><p>innerText赋值时不会解析字符串，innerHTML会解析字符串。</p><p>innerText老版本火狐浏览器不支持该属性，可以使用textContent。 textContent老版本IE不支持该属性。</p><p><strong>为什么innerText不会解析字符串？</strong></p><p>innterText会把字符串中的标签解析成字符实体。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">href</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;https://www.baidu.com&quot;</span><span style="color:#E1E4E8;">&gt;我是超链接&lt;/</span><span style="color:#85E89D;">a</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#F97583;">&amp;</span><span style="color:#E1E4E8;">lt;a href</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;https://www.baidu.com&quot;</span><span style="color:#F97583;">&amp;</span><span style="color:#E1E4E8;">gt;我是超链接</span><span style="color:#F97583;">&amp;</span><span style="color:#E1E4E8;">lt;</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">a</span><span style="color:#F97583;">&amp;</span><span style="color:#E1E4E8;">gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">a</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">href</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;https://www.baidu.com&quot;</span><span style="color:#24292E;">&gt;我是超链接&lt;/</span><span style="color:#22863A;">a</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#D73A49;">&amp;</span><span style="color:#24292E;">lt;a href</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;https://www.baidu.com&quot;</span><span style="color:#D73A49;">&amp;</span><span style="color:#24292E;">gt;我是超链接</span><span style="color:#D73A49;">&amp;</span><span style="color:#24292E;">lt;</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">a</span><span style="color:#D73A49;">&amp;</span><span style="color:#24292E;">gt;</span></span></code></pre></div><h4 id="replacechild-new-origin" tabindex="-1">replaceChild(new, origin) <a class="header-anchor" href="#replacechild-new-origin" aria-label="Permalink to &quot;replaceChild(new, origin)&quot;">​</a></h4><p>用新节点替换旧节点</p><h4 id="createdocumentfragment" tabindex="-1">createDocumentFragment <a class="header-anchor" href="#createdocumentfragment" aria-label="Permalink to &quot;createDocumentFragment&quot;">​</a></h4><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">document.</span><span style="color:#B392F0;">createDocumentFragment</span><span style="color:#E1E4E8;">(); </span><span style="color:#6A737D;">// 创建文档片段（碎片）</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">document.</span><span style="color:#6F42C1;">createDocumentFragment</span><span style="color:#24292E;">(); </span><span style="color:#6A737D;">// 创建文档片段（碎片）</span></span></code></pre></div><p>可以动态创建div添加元素，然后添加到UI中，但是会有外部包裹div。 可以使用DocumentFragment，不存在DOM节点树中，没有外部包裹。可以提高性能。</p><p>如果创建列表，不使用字符串拼接，存在大量属性时，都可以使用DocumentFragment，字符串的性能相对较好。</p><h3 id="操作元素属性" tabindex="-1">操作元素属性 <a class="header-anchor" href="#操作元素属性" aria-label="Permalink to &quot;操作元素属性&quot;">​</a></h3><h4 id="setattribute-key-value" tabindex="-1">setAttribute(key, value) <a class="header-anchor" href="#setattribute-key-value" aria-label="Permalink to &quot;setAttribute(key, value)&quot;">​</a></h4><p>为元素设置属性和属性值</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">div.</span><span style="color:#B392F0;">setAttribute</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;id&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;box&#39;</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">div.</span><span style="color:#6F42C1;">setAttribute</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;id&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;box&#39;</span><span style="color:#24292E;">)</span></span></code></pre></div><h4 id="getattribute-key" tabindex="-1">getAttribute(key) <a class="header-anchor" href="#getattribute-key" aria-label="Permalink to &quot;getAttribute(key)&quot;">​</a></h4><p>获取元素属性值</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">div.</span><span style="color:#B392F0;">getAttribute</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;id&#39;</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">div.</span><span style="color:#6F42C1;">getAttribute</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;id&#39;</span><span style="color:#24292E;">)</span></span></code></pre></div><h4 id="data" tabindex="-1">data-* <a class="header-anchor" href="#data" aria-label="Permalink to &quot;data-*&quot;">​</a></h4><p>自定义属性。HTML5版本中给元素增加data-*的属性，这个属性可以满足我们自定义属性。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">data</span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;">name</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;yangzhiqiang&quot;</span><span style="color:#E1E4E8;"> data</span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;">age</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;18&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">data</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">name</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;yangzhiqiang&quot;</span><span style="color:#24292E;"> data</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">age</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;18&quot;</span></span></code></pre></div><p>可以使用element.dataset获取此属性。该属性存在于HTMLElement.prototype中。 也可以通过getAttribute(&#39;data-name&#39;)获取属性值。</p><p>IE9及以下没有dataset属性。</p><h2 id="五、滚动距离与高度、兼容模式、可视尺寸" tabindex="-1">五、滚动距离与高度、兼容模式、可视尺寸 <a class="header-anchor" href="#五、滚动距离与高度、兼容模式、可视尺寸" aria-label="Permalink to &quot;五、滚动距离与高度、兼容模式、可视尺寸&quot;">​</a></h2><h3 id="查看滚动条高度" tabindex="-1">查看滚动条高度 <a class="header-anchor" href="#查看滚动条高度" aria-label="Permalink to &quot;查看滚动条高度&quot;">​</a></h3><p>滚动条的距离不是“滚动条”距离上侧有多远，并不是真正的物理距离，是有一定的比例，要真正看页面向上移动了多少。</p><p>常规方法：IE9某些版本和IE8及以下版本没有此属性</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">window.pageXoffset</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">pageYpffset</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">window.pageXoffset</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">pageYpffset</span></span></code></pre></div><p>IE9/IE8以下：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">document.body.scrollLeft</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">scrollTop</span></span>
<span class="line"><span style="color:#E1E4E8;">document.documentElement.scrollLeft</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">scrollTop</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">document.body.scrollLeft</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">scrollTop</span></span>
<span class="line"><span style="color:#24292E;">document.documentElement.scrollLeft</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">scrollTop</span></span></code></pre></div><p>不常见：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">window.scrollX</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">scrollY</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">window.scrollX</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">scrollY</span></span></code></pre></div><table><thead><tr><th>Broswers</th><th>IE6789b</th><th>IE678/O/FFs</th><th>IE9s</th><th>C/Sbs</th><th>O/FFb</th><th>O/FFs</th></tr></thead><tbody><tr><td>document.documentElement</td><td>value:0</td><td>yes</td><td>yes</td><td>value:0</td><td>value:0</td><td>yes</td></tr><tr><td>document.body</td><td>yes</td><td>value:0</td><td>value:0</td><td>yes</td><td>yes</td><td>value:0</td></tr><tr><td>pageOffset</td><td>undefined</td><td>undefined</td><td>yes</td><td>yes</td><td>yes</td><td>yes</td></tr><tr><td>scroll</td><td>undefined</td><td>undefined</td><td>undefined</td><td>yes</td><td>yes</td><td>yes</td></tr></tbody></table><blockquote><p>b指代怪异模式</p></blockquote><p>chrome浏览器不支持document.body，其他的都支持。</p><h3 id="兼容模式" tabindex="-1">兼容模式 <a class="header-anchor" href="#兼容模式" aria-label="Permalink to &quot;兼容模式&quot;">​</a></h3><p>浏览器的怪异模式和标准模式。浏览器是向后兼容的。</p><p>DOM的语法是由W3C来规范的，之前写的东西是不符合W3C规范的。 W3C定义一行代码（<code>&lt;!DOCTYPE html&gt;</code>），以区别浏览器模式，于是有了浏览器怪异模式和标准模式。</p><p><code>&lt;!DOCTYPE html&gt;</code> 标准模式</p><p>可以使用document.compatMode查看当前模式。</p><p>CSS1Compat 标准模式（W3C规定的模式） BackCompat 怪异模式（浏览器默认向后兼容5个版本的模式，现在浏览器基本都是兼容5个版本）</p><h3 id="可视尺寸" tabindex="-1">可视尺寸 <a class="header-anchor" href="#可视尺寸" aria-label="Permalink to &quot;可视尺寸&quot;">​</a></h3><p>获取浏览器可视区域的尺寸（窗口的尺寸）。</p><p>常规方法：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">window.innerWidth</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">innerHeight 包括滚动条高度</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">window.innerWidth</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">innerHeight 包括滚动条高度</span></span></code></pre></div><p>IE9/IE8 及以下：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">标准模式：document.documentElement.clientWidth</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">clientHeight 不包括滚动条高度 </span></span>
<span class="line"><span style="color:#E1E4E8;">怪异模式：document.body.clientWidth</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">clientHeight 包括滚动条高度</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">标准模式：document.documentElement.clientWidth</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">clientHeight 不包括滚动条高度 </span></span>
<span class="line"><span style="color:#24292E;">怪异模式：document.body.clientWidth</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">clientHeight 包括滚动条高度</span></span></code></pre></div><p><strong>window.outerWidth/outerHeight</strong></p><pre><code>包含滚动条、侧边栏、工具条等。使用较少
</code></pre><ul><li>可视尺寸函数封装：可以通过判断兼容模式封装获取视图的函数。</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">滚动距离 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> 可视区域 </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">滚动条高度</span><span style="color:#E1E4E8;"> (window.innerWidth </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> window.pagexOffset)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">document.body.scrollWidth</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">scrollHeight</span></span>
<span class="line"><span style="color:#E1E4E8;">document.documentElement.scrollWidth</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">scrollHeight</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">滚动距离 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> 可视区域 </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">滚动条高度</span><span style="color:#24292E;"> (window.innerWidth </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> window.pagexOffset)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">document.body.scrollWidth</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">scrollHeight</span></span>
<span class="line"><span style="color:#24292E;">document.documentElement.scrollWidth</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">scrollHeight</span></span></code></pre></div><ul><li>封装获取滚动距离函数</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">Element.getBoundingClientRect() </span></span>
<span class="line"><span style="color:#e1e4e8;">    </span></span>
<span class="line"><span style="color:#e1e4e8;">获取DOM的基本信息，包括宽度、高度等，包括margin和padding值。数据不实时，基本不会使用。</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">\`\`\`js</span></span>
<span class="line"><span style="color:#e1e4e8;">{&quot;x&quot;:210,&quot;y&quot;:210,&quot;width&quot;:220,&quot;height&quot;:220,&quot;top&quot;:210,&quot;right&quot;:430,&quot;bottom&quot;:430,&quot;left&quot;:210}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">Element.getBoundingClientRect() </span></span>
<span class="line"><span style="color:#24292e;">    </span></span>
<span class="line"><span style="color:#24292e;">获取DOM的基本信息，包括宽度、高度等，包括margin和padding值。数据不实时，基本不会使用。</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">\`\`\`js</span></span>
<span class="line"><span style="color:#24292e;">{&quot;x&quot;:210,&quot;y&quot;:210,&quot;width&quot;:220,&quot;height&quot;:220,&quot;top&quot;:210,&quot;right&quot;:430,&quot;bottom&quot;:430,&quot;left&quot;:210}</span></span></code></pre></div><p><strong>Element.offsetLeft/offsetTop</strong></p><p>获取距离左边和上边的距离，相对于父级定位元素开始计算，如果没有定位元素，寻找可视区域边框。</p><p><strong>margin 塌陷解决措施：</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">1. 父级元素设置border-top: 1px solid #000;</span></span>
<span class="line"><span style="color:#e1e4e8;">2. 触发BFC （HTML-7）</span></span>
<span class="line"><span style="color:#e1e4e8;">  父级元素设置绝对定位、overflow:hidden等</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">1. 父级元素设置border-top: 1px solid #000;</span></span>
<span class="line"><span style="color:#24292e;">2. 触发BFC （HTML-7）</span></span>
<span class="line"><span style="color:#24292e;">  父级元素设置绝对定位、overflow:hidden等</span></span></code></pre></div><p><strong>Element.offsetParent</strong></p><p>返回有定位的父级元素</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">* 封装寻找元素距离边框的距离函数</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">**操作滚动条**</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">window.scroll(x. y)/window.scrollTo(x, y)  滚动到某个位置。</span></span>
<span class="line"><span style="color:#e1e4e8;">window.scrollBy(x, y) 每一次滚动多少，累加。</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">* 封装寻找元素距离边框的距离函数</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">**操作滚动条**</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">window.scroll(x. y)/window.scrollTo(x, y)  滚动到某个位置。</span></span>
<span class="line"><span style="color:#24292e;">window.scrollBy(x, y) 每一次滚动多少，累加。</span></span></code></pre></div><h2 id="读写样式属性、操作伪元素、元素运动初探" tabindex="-1">读写样式属性、操作伪元素、元素运动初探 <a class="header-anchor" href="#读写样式属性、操作伪元素、元素运动初探" aria-label="Permalink to &quot;读写样式属性、操作伪元素、元素运动初探&quot;">​</a></h2><p>DOM间接操作CSS，不能直接操作CSS样式表，是通过修改标签上的样式属性来更改CSS样式。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">Element.style.xxx</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">Element.style.xxx</span></span></code></pre></div><p>可读可写、</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">div.style.width </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;100px&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(div.style.width);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">div.style.width </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;100px&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(div.style.width);</span></span></code></pre></div><p>所有的属性都要用小驼峰命名、值一定是字符串、复合值一定拆解赋值（eg：border），不建议大量使用.语法赋值，建议使用类名切换的方式。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">oDiv.style.borderWidth </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;1px&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">oDiv.style.borderStyle </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;solid&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">oDiv.style.borderColor </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;#000&#39;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">oDiv.style.borderWidth </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;1px&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">oDiv.style.borderStyle </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;solid&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">oDiv.style.borderColor </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;#000&#39;</span><span style="color:#24292E;">;</span></span></code></pre></div><p>类名切换</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">oDiv.className </span><span style="color:#F97583;">+=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39; active&#39;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">oDiv.className </span><span style="color:#D73A49;">+=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39; active&#39;</span><span style="color:#24292E;">;</span></span></code></pre></div><p>保留字前面加css</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">oDiv.style.cssFloat </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;&#39;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">oDiv.style.cssFloat </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">;</span></span></code></pre></div><p>查看CSS可设置属性集合</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(oDiv.style); </span><span style="color:#6A737D;">// 不可以获取CSS样式表内属性。</span></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(window.</span><span style="color:#B392F0;">getComputedStyle</span><span style="color:#E1E4E8;">(oDiv, </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">));</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(oDiv.style); </span><span style="color:#6A737D;">// 不可以获取CSS样式表内属性。</span></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(window.</span><span style="color:#6F42C1;">getComputedStyle</span><span style="color:#24292E;">(oDiv, </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">));</span></span></code></pre></div><p>window.getComputedStyle()</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">查看计算样式、IE8及以下不支持。</span></span>
<span class="line"><span style="color:#e1e4e8;">可以获取CSS样式表内属性。 获取值不包含padding。</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">IE8及以下：Element.currentStyle</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">获取高度和宽度最好不要使用offsetWidth和offsetHeight，获取的值包含padding。</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">console.log(window.getComputedStyle(oDiv, null).width);</span></span>
<span class="line"><span style="color:#e1e4e8;">console.log(window.getComputedStyle(oDiv, null)[&#39;width]); </span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">getComputedStyle(oDiv, null); </span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">  第二个参数，可以获取伪元素大小，属性是只读的，不可更改。</span></span>
<span class="line"><span style="color:#e1e4e8;">  window.getComputedStyle(oDiv, &#39;after&#39;)[&#39;width&#39;]</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">查看计算样式、IE8及以下不支持。</span></span>
<span class="line"><span style="color:#24292e;">可以获取CSS样式表内属性。 获取值不包含padding。</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">IE8及以下：Element.currentStyle</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">获取高度和宽度最好不要使用offsetWidth和offsetHeight，获取的值包含padding。</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">console.log(window.getComputedStyle(oDiv, null).width);</span></span>
<span class="line"><span style="color:#24292e;">console.log(window.getComputedStyle(oDiv, null)[&#39;width]); </span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">getComputedStyle(oDiv, null); </span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">  第二个参数，可以获取伪元素大小，属性是只读的，不可更改。</span></span>
<span class="line"><span style="color:#24292e;">  window.getComputedStyle(oDiv, &#39;after&#39;)[&#39;width&#39;]</span></span></code></pre></div><ul><li><p>JS运动案例</p></li><li><p>操作伪元素案例 - 类名方式操作</p></li><li><p>下拉菜单案例</p></li></ul><h2 id="事件处理函数、冒泡捕获、阻止冒泡默认事件" tabindex="-1">事件处理函数、冒泡捕获、阻止冒泡默认事件 <a class="header-anchor" href="#事件处理函数、冒泡捕获、阻止冒泡默认事件" aria-label="Permalink to &quot;事件处理函数、冒泡捕获、阻止冒泡默认事件&quot;">​</a></h2><p>事件 -&gt; 反馈</p><p>通过某一事件而产生效果，这就叫绑定事件处理函数（程序）。</p><p>事件是元素本身就有的特性，我们所说的绑定事件，是绑定事件的处理函数（事件的反馈）。</p><p>事件 + 事件的反馈 = 前端交互（交互体验）</p><p>交互是前端的核心价值。</p><p>绑定事件处理函数，onclick叫做事件句柄。 oDiv.onclick = function ()</p><p>事件源，事件作用在谁身上，谁就是事件源。</p><p>非严格模式下，this指向window。</p><p>如何绑定事件处理函数？</p><ol><li>Element.onclcik = function () {}</li></ol><pre><code>兼容性好。但是一个元素的同一个事件只能绑定一个处理函数，第二个事件绑定会覆盖第一个。
没有办法给同一个元素同一个事件绑定多个处理函数。
</code></pre><ol start="2"><li>内联事件监听器（行内事件监听器）</li></ol><pre><code>&lt;button onclcick=&quot;&quot;&gt;&lt;/button&gt; 直接在元素上直接绑定事件处理函数。

如果第一种和第二种同时绑定，第一种绑定的处理函数会覆盖第二种。也叫事件覆盖。
</code></pre><ol start="3"><li>Element.addEventListener();</li></ol><pre><code>参数（事件类型，事件处理函数，false）

W3C规范，IE9以下不兼容。
同一个元素同一个事件可以绑定多个事件处理函数，都会执行。
同一个元素同一个事件绑定多次同一个事件处理函数时，只会触发一次。
</code></pre><ol start="4"><li>IE8及以下 Element.attachEvent()</li></ol><pre><code>参数（事件类型，事件处理函数）

同一个元素同一个事件可以绑定多个事件处理函数，都会执行。
同一个元素同一个事件绑定多次同一个事件处理函数时，会触发多次。

Element.attachEvent(&#39;onclick&#39;, function () {
  绑定的事件处理函数this指向window。
});
</code></pre><ul><li>添加事件处理函数方式兼容性封装</li></ul><p><strong>如何解除事件处理函数？</strong></p><ol><li>Element.onclick = null;</li></ol><pre><code>oDiv.onclick = function () {
  this.onclick = null;
}
</code></pre><ol start="2"><li>Element.removeEventListener(type, fn, false);</li></ol><pre><code>函数引用，事件类型需要与绑定时一致。

非严格模式下，可以利用arguments.callee来解除事件处理函数。

oDiv.addEventListener(&#39;click&#39;, function () {
  this.removeEventListener(&#39;click&#39;, arguments.callee, false);
}, false);

严格模式下，可以声明函数，拿到函数引用来解除事件处理函数。

oDiv.addEventListener(&#39;click&#39;, test, false)

function test () {
  this.removeEventListener(&#39;click&#39;, test, false);        
}
</code></pre><ol start="3"><li>Element.detachEvent(type, fn);</li></ol><pre><code>函数引用，事件类型需要与绑定时一致。

oDiv.detachEvent(&#39;onclick&#39;, test); 移除与removeEventListener一致
</code></pre><p><strong>事件处理程序的运行环境（this问题）</strong></p><p>事件句柄（onclick）的方式和添加监听器(addEventListener)的方式，事件处理函数的this都是指向元素本身。 attachEvent绑定的事件处理函数的this指向window。可以使用bind、call、apply改变this指向。</p><p><strong>a 标签嵌套问题</strong></p><p>内联元素嵌套内联元素渲染成DOM是两个互不关联内联元素。 a 标签不管是不是块级元素，渲染出来的都是两个互不关联的a标签。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">&lt;a href=&quot;http://www.baidu.com&quot;&gt;                   &lt;a href=&quot;http://www.baidu.com&quot;&gt;&lt;/a&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">  百度 &lt;a href=&quot;hhtp://www.taobao.com&quot;&gt;淘宝&lt;/a&gt; -&gt; &lt;a href=&quot;hhtp://www.taobao.com&quot;&gt;淘宝&lt;/a&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">&lt;/a&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">&lt;a href=&quot;http://www.baidu.com&quot;&gt;                   &lt;a href=&quot;http://www.baidu.com&quot;&gt;&lt;/a&gt;</span></span>
<span class="line"><span style="color:#24292e;">  百度 &lt;a href=&quot;hhtp://www.taobao.com&quot;&gt;淘宝&lt;/a&gt; -&gt; &lt;a href=&quot;hhtp://www.taobao.com&quot;&gt;淘宝&lt;/a&gt;</span></span>
<span class="line"><span style="color:#24292e;">&lt;/a&gt;</span></span></code></pre></div><p>事件捕获、事件冒泡</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;wrapper&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;outer&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;inner&quot;</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">class</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;wrapper&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">class</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;outer&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">class</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;inner&quot;</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><p>事件冒泡</p><pre><code>从DOM结构来看，由最里层一层一层的把事件向外传递的现象，叫做冒泡现象。

同时添加click的事件处理函数，点击子元素时，父级元素的事件处理函数也会触发，这是一种冒泡现象。                                                     
事件向父级冒泡，然后触发冒泡相对应的事件处理函数。
</code></pre><p>事件捕获</p><pre><code>从DOM结构来看，由最外层向最里层把事件向内传递的现象，叫做捕获现象。

总体来说，自嵌套关系最顶层的父级元素开始捕获事件，直到事件源的子元素，事件捕获完成。

可以设置addEventListener的第三个参数为true，就是事件捕获，值为false，就是事件冒泡。
</code></pre><p>事件捕获是先执行的，事件冒泡是后执行的。事件捕获作用到事件源上时，不存在捕获现象，正常执行函数。</p><pre><code>outer.addEventListener(&#39;click&#39;, function () {
  console.log(&#39;bubble outer&#39;);
}, false);

outer.addEventListener(&#39;click&#39;, function () {
  console.log(&#39;outer&#39;);
}, true);

打印：bubble outer、outer
</code></pre><p>focus、blur、change、submit、reset、select 没有冒泡和捕获现象。 IE浏览器没有事件捕获现象，老版本除chrome之外，没有事件捕获。</p><p>事件捕获与webkit内核有关。</p><p>阻止冒泡事件</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">冒泡常常带来许多问题，所以需要取消冒泡默认事件。</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">event 存在于函数的参数中，IE8存在window，window.event. </span></span>
<span class="line"><span style="color:#e1e4e8;">var e = ev || window.event;</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">W3C规范：e.stopPropagation();</span></span>
<span class="line"><span style="color:#e1e4e8;">IE：e.cancelBubble = true;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">冒泡常常带来许多问题，所以需要取消冒泡默认事件。</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">event 存在于函数的参数中，IE8存在window，window.event. </span></span>
<span class="line"><span style="color:#24292e;">var e = ev || window.event;</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">W3C规范：e.stopPropagation();</span></span>
<span class="line"><span style="color:#24292e;">IE：e.cancelBubble = true;</span></span></code></pre></div><p>阻止默认事件</p><p>可以用来阻止a标签、form表单默认行为。</p><ol><li>return false</li></ol><pre><code>兼容性较好、只能在用句柄的方式中使用，对于addEventListener添加的事件无效。

document.oncontextmenu = function () {
  return false;
}
</code></pre><ol start="2"><li>W3C规范：e.preventDefault()</li></ol><pre><code>IE9及以下不兼容。

document.oncontextmenu = function (ev) {
  var e = ev || window.event;
  e.preventDefault();
}
</code></pre><ol start="3"><li>IE9以下：e.returnValue = false;</li></ol><pre><code>document.oncontextmenu = function (ev) {
  var e = ev || window.event;
  e.returnValue = false;
}
</code></pre><p>阻止a标签默认事件</p><pre><code>1. &lt;a href=&quot;javascript:void(0)&quot;&gt;点击&lt;a&gt; =&gt; void(0) = return 0;
2. &lt;a href=&quot;javascript:;&quot;&gt;点击&lt;a&gt;
3. &lt;a href=&quot;#&quot;&gt;点击&lt;a&gt; （#可以当作锚点使用）
4. a.onclick = function (e) {
	  e.preventDefault();
	 }
</code></pre><h2 id="冒泡捕获流、事件与事件源对象、事件委托" tabindex="-1">冒泡捕获流、事件与事件源对象、事件委托 <a class="header-anchor" href="#冒泡捕获流、事件与事件源对象、事件委托" aria-label="Permalink to &quot;冒泡捕获流、事件与事件源对象、事件委托&quot;">​</a></h2><p>事件流：描述从页面中接收事件的顺序（与冒泡、捕获相关）</p><p>微软IE提出事件冒泡流（Event Bubbling）</p><p>Netscape（网景）提出事件捕获流（Event Captureing）</p><p>事件流分为3个阶段：</p><ul><li>事件捕获阶段</li><li>处于目标阶段 事件源所绑定的事件处理函数触发时</li><li>事件冒泡阶段</li></ul><p><strong>DOM事件级别</strong></p><p>DOM级别是对事件类型的定义，是不同时期的DOM事件规范。</p><p>DOM0级</p><pre><code>定义on之类的事件模型（onmouseover、onmouseout），以句柄的方式绑定事件处理函数。

onclick为例，支持两种写法。
  1. 元素属性 onclick=&quot;&quot;
  2. Element.onclick = function () {}
</code></pre><p>DOM1级</p><pre><code>没有定义事件模型。
</code></pre><p>DOM2级</p><pre><code>定义addEventListener()、removeEventListener()，使用3个参数，成为W3C规范。

IE9以下，没有遵守规范，必须用attachEvent、detachEvent。
</code></pre><p>DOM3级</p><pre><code>对于DOM2级的扩展，增加更多的事件类型（load、scroll、keydown、keyup等）
允许用户自定义事件。
</code></pre><p><strong>事件与事件源对象</strong></p><p>一旦对某个元素进行某一事件的触发，那么浏览器就会把这个事件触发以后的详细信息包装成一个对象（e、ev、event），传递到事件处理函数的参数中去。</p><p>IE不是传到事件处理函数的参数中，是传到window.event中。</p><p>target、srcElement就是事件源对象。</p><pre><code>FF（火狐）只有target属性
IE只有srcElement属性
chrome两个属性都有
</code></pre><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">btn.</span><span style="color:#B392F0;">onclick</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">ev</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> e </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> ev </span><span style="color:#F97583;">||</span><span style="color:#E1E4E8;"> window.event,</span></span>
<span class="line"><span style="color:#E1E4E8;">      tar </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> e.target </span><span style="color:#F97583;">||</span><span style="color:#E1E4E8;"> e.srcElement;</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(e);</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">btn.</span><span style="color:#6F42C1;">onclick</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">ev</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">var</span><span style="color:#24292E;"> e </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> ev </span><span style="color:#D73A49;">||</span><span style="color:#24292E;"> window.event,</span></span>
<span class="line"><span style="color:#24292E;">      tar </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> e.target </span><span style="color:#D73A49;">||</span><span style="color:#24292E;"> e.srcElement;</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(e);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p><strong>事件委托/事件代理</strong></p><p>把事件委托给父级，事件被触发后会冒泡到父级，就算点击子级元素， 在父级元素上也能得到被点击的事件源对象，进行处理。</p><p>好处：</p><pre><code>1. 减少多次绑定事件处理函数，对性能优化较好。
2. 对于动态增加的元素，可以获取到事件源。
3. 可以动态获取子元素下标

oList.onclick = function (ev) {
  var e = ev || window.event,
      tar = e.target || e.srcElement,
      tagName = tar.tagName.toLowerCase(),
      idx = [].indexOf.call(oLi, tar);

  if (tagName === &#39;li&#39;) {
    console.log(tar, tar.innerText, tagName, idx);
  }
}
</code></pre><ul><li>ul事件代理案例</li></ul><h2 id="鼠标行为坐标系、pagexy封装、拖拽函数封装" tabindex="-1">鼠标行为坐标系、pageXY封装、拖拽函数封装 <a class="header-anchor" href="#鼠标行为坐标系、pagexy封装、拖拽函数封装" aria-label="Permalink to &quot;鼠标行为坐标系、pageXY封装、拖拽函数封装&quot;">​</a></h2><p>鼠标行为 -&gt; 坐标系</p><p>事件对象用来保存事件触发时一系列的信息。</p><p>事件源对象上的属性</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">clientX/Y 鼠标位置相对于当前页面可视区域的坐标（不包括滚动条的距离）</span></span>
<span class="line"><span style="color:#e1e4e8;">x/y       同clientX/Y，FF不支持该属性（旧版本），不建议使用</span></span>
<span class="line"><span style="color:#e1e4e8;">pageX/Y   鼠标位置相对于当前文档（document）的坐标（包括滚动条的距离）</span></span>
<span class="line"><span style="color:#e1e4e8;">IE9以下不支持（现在W3C标准归到jQuery标准下），不建议使用</span></span>
<span class="line"><span style="color:#e1e4e8;">layerX/Y  同pageX/Y，IE11以下同clientX/Y，不建议使用</span></span>
<span class="line"><span style="color:#e1e4e8;">screenX/Y 鼠标位置相对于浏览器屏幕边缘的坐标</span></span>
<span class="line"><span style="color:#e1e4e8;">offsetX/Y 鼠标位置相对于块级元素的坐标（包含边框，safari不包括），不建议使用</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">clientX/Y 鼠标位置相对于当前页面可视区域的坐标（不包括滚动条的距离）</span></span>
<span class="line"><span style="color:#24292e;">x/y       同clientX/Y，FF不支持该属性（旧版本），不建议使用</span></span>
<span class="line"><span style="color:#24292e;">pageX/Y   鼠标位置相对于当前文档（document）的坐标（包括滚动条的距离）</span></span>
<span class="line"><span style="color:#24292e;">IE9以下不支持（现在W3C标准归到jQuery标准下），不建议使用</span></span>
<span class="line"><span style="color:#24292e;">layerX/Y  同pageX/Y，IE11以下同clientX/Y，不建议使用</span></span>
<span class="line"><span style="color:#24292e;">screenX/Y 鼠标位置相对于浏览器屏幕边缘的坐标</span></span>
<span class="line"><span style="color:#24292e;">offsetX/Y 鼠标位置相对于块级元素的坐标（包含边框，safari不包括），不建议使用</span></span></code></pre></div><p><strong>元素坐标：clientX/Y + 滚动条距离？</strong></p><p>margin存在8像素问题、IE6 有些版本存在16像素。</p><p>元素坐标应该等于clientX/Y加上滚动条距离，再减去文档偏移距离。</p><p>推拽行为</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">mousedown 鼠标按下的事件</span></span>
<span class="line"><span style="color:#e1e4e8;">mouseup 鼠标抬起的事件</span></span>
<span class="line"><span style="color:#e1e4e8;">mousemove 鼠标移动的事件</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">mousedown 鼠标按下的事件</span></span>
<span class="line"><span style="color:#24292e;">mouseup 鼠标抬起的事件</span></span>
<span class="line"><span style="color:#24292e;">mousemove 鼠标移动的事件</span></span></code></pre></div><h2 id="鼠标事件深入、点击与拖拽分离、双击事件" tabindex="-1">鼠标事件深入、点击与拖拽分离、双击事件 <a class="header-anchor" href="#鼠标事件深入、点击与拖拽分离、双击事件" aria-label="Permalink to &quot;鼠标事件深入、点击与拖拽分离、双击事件&quot;">​</a></h2><p>mousedown + mouseup = click</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">鼠标左中右有对应值</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">event：e.button 0 左、1 中、2 右</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">使用mousedown可以触发事件查看该属性。</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">IE10以上存在此属性，IE9、IE8、IE7、IE6、不同版本记录的值是不同的。</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">使用mousedown和mouseup模拟单击或双击事件，使用mousemove实时计算元素位置，并做相应移动。</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">鼠标左中右有对应值</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">event：e.button 0 左、1 中、2 右</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">使用mousedown可以触发事件查看该属性。</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">IE10以上存在此属性，IE9、IE8、IE7、IE6、不同版本记录的值是不同的。</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">使用mousedown和mouseup模拟单击或双击事件，使用mousemove实时计算元素位置，并做相应移动。</span></span></code></pre></div><h2 id="解决事件代理和鼠标移动事件的窘态" tabindex="-1">解决事件代理和鼠标移动事件的窘态 <a class="header-anchor" href="#解决事件代理和鼠标移动事件的窘态" aria-label="Permalink to &quot;解决事件代理和鼠标移动事件的窘态&quot;">​</a></h2><p>mouseover、mouseout 鼠标的划入划出（移入移出）</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">使用mouseover和mouseout实现和hover一样的效果，移入改变颜色可以使用mouseover。</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">mouseover和mouseout存在冒泡行为，会影响父级元素，可以取消冒泡事件。</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">划入划出的事件处理函数对自己绑定的元素及每一个子元素都生效，可以被其子元素多次触发。</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">使用mouseover和mouseout实现和hover一样的效果，移入改变颜色可以使用mouseover。</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">mouseover和mouseout存在冒泡行为，会影响父级元素，可以取消冒泡事件。</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">划入划出的事件处理函数对自己绑定的元素及每一个子元素都生效，可以被其子元素多次触发。</span></span></code></pre></div><p>mouseenter、mouseleave</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">mouseenter、mouseleave 最早是IE提出的，后来各大W3C浏览器都支持，兼容性较好。</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">mouseenter和mouseleave存在类似冒泡的行为，但不是冒泡事件，不可以被取消。</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">划入划出的事件处理函数只对自己绑定的元素负责，不对其子元素生效，不会被其子元素频繁触发。</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">一般来说，复杂的程序，用mouseenter、mouseleave较多，可控性比较强。DOM结构比较简单，</span></span>
<span class="line"><span style="color:#e1e4e8;">列表项之类，可以使用mouseover、mouseout。</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">mouseenter、mouseleave 最早是IE提出的，后来各大W3C浏览器都支持，兼容性较好。</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">mouseenter和mouseleave存在类似冒泡的行为，但不是冒泡事件，不可以被取消。</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">划入划出的事件处理函数只对自己绑定的元素负责，不对其子元素生效，不会被其子元素频繁触发。</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">一般来说，复杂的程序，用mouseenter、mouseleave较多，可控性比较强。DOM结构比较简单，</span></span>
<span class="line"><span style="color:#24292e;">列表项之类，可以使用mouseover、mouseout。</span></span></code></pre></div><p>list 划入划出案例（手风琴效果）</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">使用mousemove及事件代理实现滑动效果，性能比较好。</span></span>
<span class="line"><span style="color:#e1e4e8;">mouseenter只对绑定的元素有效，使用方式只能循环绑定多次，性能较差。</span></span>
<span class="line"><span style="color:#e1e4e8;">mouserover对自己子元素也会生效，可以实现滑动效果，性能相对mousemove较差。</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">使用mousemove及事件代理实现滑动效果，性能比较好。</span></span>
<span class="line"><span style="color:#24292e;">mouseenter只对绑定的元素有效，使用方式只能循环绑定多次，性能较差。</span></span>
<span class="line"><span style="color:#24292e;">mouserover对自己子元素也会生效，可以实现滑动效果，性能相对mousemove较差。</span></span></code></pre></div>`,358),o=[p];function t(c,r,i,y,d,E){return a(),n("div",null,o)}const g=s(l,[["render",t]]);export{u as __pageData,g as default};
